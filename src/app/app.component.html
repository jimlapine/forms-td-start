<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <!--
          Adding the ngSubmit direcitive allows us to bind the form submit to TypeScript method
          Adding the local reference #f and setting it = to the ngForm gives us access to the JavaScript representation of our form
      -->
      <form (ngSubmit)="onSubmit(f)" #f="ngForm">
        <div id="user-data">
          <div class="form-group">
            <label for="username">Username</label>
            <!-- Adding ngModel allows us to set this input as a control within the form
                We also have to add the HTML name attribute -->
            <!-- We can add the HTML required tag to make the field required. -->
            <input
              type="text"
              id="username"
              class="form-control"
              ngModel
              name="username"
              required>
          </div>
          <button class="btn btn-default" type="button">Suggest an Username</button>
          <div class="form-group">
            <label for="email">Mail</label>
            <!--
              Adding ngModel allows us to set this input as a control within the form,
              We also have to add the HTML name attribute,
              We can add the HTML required tag to make the field required.
              We can also add the email directive to indicate this field is an email and must be valid.
              We can also add a local reference #email and assign it to the ngModel, this allows us to determine
              if control is valid or touched, or any of the other control properties
          -->
            <input
              type="email"
              id="email"
              [ngClass]="{'form-control': !email.touched, 'form-control-lg': !email.valid && email.touched}"
              ngModel
              name="email"
              required
              email
              #email="ngModel">
            <span
              class="help-block"
              *ngIf="!email.valid && email.touched">
              Please enter a valid email address</span>
          </div>
        </div>
        <div class="form-group">
          <label for="secret">Secret Questions</label>
            <!-- Adding ngModel allows us to set this input as a control within the form
                We also have to add the HTML name attribute -->
          <select
            id="secret"
            class="form-control"
            ngModel
            name="secret">
            <option value="pet">Your first Pet?</option>
            <option value="teacher">Your first teacher?</option>
          </select>
        </div>
        <!--
            We can bind to the form valid property and disable the button until the form is valid.
          Here we are using the local reference #f see above
        -->
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="!f.valid">Submit</button>
      </form>
    </div>
  </div>
</div>
